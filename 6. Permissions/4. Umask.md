When a file or directory is created in Linux, it does not start with random permissions. Instead, the system applies **default permissions** and then subtracts some of them using a value called the **umask** (user mask).

`umask` controls which permission bits are _removed_ from newly created files and directories.

---

## **1. How Umask Works**

Umask values use the same numeric permission system as `chmod`:

- read = 4    
- write = 2    
- execute = 1    

But unlike `chmod`, which _grants_ permissions, **umask subtracts permissions** from the system’s default creation permissions.

### **Default creation permissions**

These are not literal file permissions, but conceptual maximums:

- Files start with: `666` (rw-rw-rw-)  
    — files never get execute permissions by default    
- Directories start with: `777` (rwxrwxrwx)    

The umask removes bits from these values.

---

## **2. Example: `umask 021`**

```
umask 021
```

Breakdown:

- `0` — owner keeps all permissions    
- `2` — group loses write permission    
- `1` — others lose execute permission    

This means new files and directories will be created **without** those permissions.

### **What it produces**

For files:

- Start with: 666    
- Subtract: 021    
- Result: **645** → rw-r--r-x (except execute won’t be set on files)    

For directories:

- Start with: 777    
- Subtract: 021    
- Result: **756** → rwx r-x rwx    

---

## **3. Common Default Umask Values**

Most Linux distributions use:

```
022
```

This removes:

- write from group    
- write from others    

Resulting permissions:

- files: 644 (rw-r--r--)    
- directories: 755 (rwxr-xr-x)    

Multi-user or security-focused systems sometimes use:

```
027
```

This prevents “others” from reading new files.

---

## **4. Viewing and Setting Umask**

### **Check current umask**

```
umask
```

### **Set umask for the current session**

```
umask 027
```

This applies only to the current shell session.

---

## **5. Making Umask Persistent**

If you want umask to apply every time you log in, add it to one of your shell startup files, such as:

- `~/.profile`    
- `~/.bashrc`    
- `~/.bash_profile`    

This ensures the value persists across sessions.