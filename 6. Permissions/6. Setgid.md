The **Set Group ID** bit, or **SGID**, works similarly to SUID but applies to the **group** instead of the user. When the SGID bit is set on a program, that program runs as if the user is a member of the file’s group during execution.

SGID is also used on directories, where it behaves differently and is especially useful for collaborative work.

---

## **1. SGID on Executable Files**

When applied to executable binaries, SGID allows anyone who runs the file to temporarily gain the permissions of the file’s group.

Example:

```
ls -l /usr/bin/wall

-rwxr-sr-x 1 root tty 19024 Dec 14 11:45 /usr/bin/wall
```

In the group permission set, notice:

```
r-s
```

The **s** replaces the group’s execute bit, indicating SGID is active.

Here:

- Owner: `root`    
- Group: `tty`    
- SGID allows the program to run with `tty` group privileges    

This is necessary because `wall` writes to terminals, which are owned by group `tty`.

---

## **2. SGID on Directories** _(Important addition)_

SGID behaves differently when set on a **directory**, and this is where it’s most commonly used in real environments.

When a directory has SGID:

- Files created inside the directory inherit the directory’s group    
- Subdirectories also inherit the group    
- This ensures consistent group ownership    

This is extremely useful in shared project folders.

Example:

```
sudo chmod g+s /shared/project
```

Now every new file inside `/shared/project` belongs to the project group, avoiding permission conflicts.

Directory SGID appears as:

```
drwxr-sr-x
```

---

## **3. Setting SGID**

You can set SGID using symbolic or numerical methods.

### **Symbolic Mode**

Enable SGID:

```
sudo chmod g+s myfile
```

Disable SGID:

```
sudo chmod g-s myfile
```

### **Numeric (Octal) Mode**

SGID is represented by **2** in the leading position (SUID is 4):

```
sudo chmod 2555 myfile
```

Breakdown:

- `2` → SGID enabled    
- `555` → normal permission bits    

To remove SGID:

```
sudo chmod 0555 myfile
```

---

## **4. Reading SGID in Permission Strings**

- With execute permission: `r-s` (normal and functional)    
- Without execute permission: `r-S` (capital S indicates a misconfiguration)    

SGID requires the execute bit to make sense when applied to files.

---

## **5. Security Considerations**

Like SUID, SGID needs careful handling:

- Avoid setting SGID on scripts; most shells ignore it for safety    
- Restrict SGID binaries to trusted system tools    
- Use SGID on directories for collaboration instead of setting insecure group write permissions everywhere    

SGID is safe and extremely useful when used intentionally.